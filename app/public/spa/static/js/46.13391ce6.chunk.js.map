{"version":3,"sources":["views/Login/index.jsx"],"names":["Login","state","username","pwd","submit","push","props","history","trim","length","login","userName","userPwd","then","res","console","log","code","window","localStorage","token","data","identityName","view","JSON","stringify","limitView","error","msg","className","Item","type","placeholder","onChange","e","setState","target","value","onClick","this","Component"],"mappings":"2RAIOA,E,2MACHC,MAAM,CACFC,SAAS,GACTC,IAAI,I,EA4BRC,OAAO,WAAK,IACMC,EAAS,EAAKC,MAAvBC,QAASF,KADP,EAEgB,EAAKJ,MAAvBC,EAFE,EAEFA,SAAWC,EAFT,EAESA,IACbD,EAASM,OAAOC,QAAUN,EAAIK,OAAOC,QACpCC,YAAM,CACFC,SAAUT,EACVU,QAAST,IACVU,KAAK,SAAAC,GACJC,QAAQC,IAAIF,GACTA,EAAIG,MACFC,OAAOC,aAAaC,MAAQN,EAAIO,KAAKD,MACrCF,OAAOC,aAAaR,SAAWG,EAAIO,KAAKV,SACxCO,OAAOC,aAAaG,aAAeR,EAAIO,KAAKC,aAC5CJ,OAAOC,aAAaI,KAAOC,KAAKC,UAAUX,EAAIO,KAAKK,WACpDrB,EAAK,eAEF,IAAQsB,MAAMb,EAAIc,Q,wEA1C3B,IAAD,OACL,OACI,yBAAKC,UAAU,SACX,8BACA,2BACI,sBAAMC,KAAN,KACI,uBAAOC,KAAK,OAAOC,YAAY,qBAAMC,SAAU,SAAAC,GAC3C,EAAKC,SAAS,CACVjC,SAASgC,EAAEE,OAAOC,YAI9B,sBAAMP,KAAN,KACI,uBAAOC,KAAK,WAAWC,YAAY,qBAAMC,SAAU,SAAAC,GAC/C,EAAKC,SAAS,CACVhC,IAAI+B,EAAEE,OAAOC,YAIzB,sBAAMP,KAAN,KACI,uBAAQQ,QAASC,KAAKnC,QAAtB,uB,GAzBHoC,aAqDNxC","file":"static/js/46.13391ce6.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Form, Input, Button,message} from 'antd';\r\nimport \"./style/login.scss\";\r\nimport {login} from \"@/api/index\";\r\n class Login extends Component {\r\n    state={\r\n        username:\"\",\r\n        pwd:\"\"\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                <div></div>\r\n                <Form>\r\n                    <Form.Item>\r\n                        <Input type=\"text\" placeholder=\"用户名\" onChange={e=>{\r\n                            this.setState({\r\n                                username:e.target.value})}}\r\n                        >\r\n                        </Input>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Input type=\"password\" placeholder=\"密码框\" onChange={e=>{\r\n                            this.setState({\r\n                                pwd:e.target.value\r\n                            })}}\r\n                        ></Input>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button onClick={this.submit}>登录</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n    submit=()=>{\r\n        let {history:{push}} = this.props;\r\n        let {username , pwd} = this.state\r\n        if(username.trim().length && pwd.trim().length){\r\n            login({\r\n                userName: username,\r\n                userPwd: pwd\r\n            }).then(res=>{\r\n                console.log(res)\r\n                if(res.code){\r\n                     window.localStorage.token = res.data.token;\r\n                     window.localStorage.userName = res.data.userName;\r\n                     window.localStorage.identityName = res.data.identityName;\r\n                     window.localStorage.view = JSON.stringify(res.data.limitView);\r\n                    push(\"/main/home\")\r\n                }else{\r\n                       message.error(res.msg);\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\nexport default Login;"],"sourceRoot":""}